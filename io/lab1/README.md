# Лабораторная работа 1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** получить знания и навыки разработки драйверов символьных устройств для операционной системы Linux.
**Выполнили:** Давывод Иван, Шишкин Никита P3400

## Описание функциональности драйвера

Драйвер создает:
* Символьное устройство `/dev/var3` 
* Файл-интерфейс для устрйоства `/proc/var3`

Функции драйвера:
- При записи текста в файл символьного устройства считается сумма введнных чисел
- При чтении из `/proc/var3` выводится последовательность всех сумм полученных с момента загрузки моудля
- При чтении файла символьного устройства в кольцевой буфер ядра выводится последовательность результатов с момента загрузки модуля.

## Инструкция по сборке

1. Перейти в директорию `io/lab1`
2. `make`

## Примеры использования

```bash
$ sudo insmod lab1.ko
...
[ 2712.271240] lab1: proc file is created
[ 2712.271336] lab1: initialization completed

$ sudo rmmod lab1
...
[ 2881.403346] lab1: proc file is deleted
[ 2881.403347] lab1: deinitialization completed
```

Проверка прав символьного устройства
```bash
$ ls -la /dev/var3
crw-rw-rw- 1 root root 240, 0 Feb 25 13:13 /dev/var3
```

Примеры использования символьного устройства
```bash
$ echo "123n123" > /dev/var3 && cat /proc/var3 
246
$ echo "1n1n1n2" > /dev/var3 && cat /proc/var3 
246
251
$ echo "1000" > /dev/var3 && cat /proc/var3 
246
251
1251

```

Пример вывода сообщения в кольцевой буфер
```bash
$ cat /dev/var3 && dmesg
[ 3058.664102] 246
               251
               1251
```
